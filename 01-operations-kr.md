---
layout: page
title: 고급 넘파이
subtitle: 넘파이 배열 연산작업
minutes: 15
---
> ## 학습목표 {.objectives}
>
> * 두 배열에 대한 원소별 곱하기와 행렬곱 차이를 설명한다.
> * 축소 함수(평균, 최소, 최대)를 해당 축을 따라 적용한다.
> * 넘파이에서 제공하는 함수목록에서 특수 수치해석 알고리즘을 찾아낸다.
> * 해당 축을 따라 배열을 정렬한다.


두 배열 곱셈작업을 수행하면 원소별로 계산된다. 
예를 들어, 각 원소에 대해 제곱을 계산하는데, 다음과 같이 계산한다:

```
>>> a = np.arange(3)
>>> a
array([0, 1, 2])
>>> b = a * a
>>> b
array([0, 1, 4])
```

행렬곱은 `np.dot` 함수를 사용해서 계산된다:

```
>>> np.dot(a, a)
5
```

1차원 배열에 대해 동일한 결과를 다음식을 통해 얻을 수 있다:

```
>>> np.sum(a * a)
5
```

### 축을 따라 축소요약

`np.sum` 함수는 배열 차원갯수에 관계없이 모든 원소를 합한다:


```
>>> b = np.arange(9).reshape(3,3)
>>> b
array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])
>>> np.sum(b)
36
```

행만 혹은 열만 따로 떼서 합하고자 한다면, 합하고자 하는 축 인덱스를 전달하면 된다:

```
>>> np.sum(b, 0)
array([ 9, 12, 15])
>>> np.sum(b, 1)
array([ 3, 12, 21])
```

유사한 다른 축약함수에는 `np.min`, `np.max`, `np.mean` 이 있다:

```
>>> np.min(b)
0
>>> np.min(b, 0)
array([0, 1, 2])
>>> np.min(b, 1)
array([0, 3, 6])
```

각 축에 대한 최소 원소의 색인값도 얻어올 수 있다:

```
>>> np.argmin(b, 0)
array([0, 0, 0])
```

### 정렬

넘파이에는 다양한 정렬 알고리듬이 구현되어 있다.
배열에 원소를 정렬하는데, `np.sort` 함수를 사용한다:

```
>>> a = np.random.rand(4)
>>> a
array([ 0.9490829 ,  0.07528673,  0.17463988,  0.95964801])
>>> np.sort(a)
array([ 0.07528673,  0.17463988,  0.9490829 ,  0.95964801])
```

축약함수와 유사하게, 축을 따라 정렬하는데 축인덱스를 인자로 넣어 전달한다:

```
>>> b = a.reshape(2, 2)
>>> b
array([[ 0.9490829 ,  0.07528673],
       [ 0.17463988,  0.95964801]])
>>> np.sort(b, 0)
array([[ 0.17463988,  0.07528673],
       [ 0.9490829 ,  0.95964801]])
>>> np.sort(b, 1)
array([[ 0.07528673,  0.9490829 ],
       [ 0.17463988,  0.95964801]])
```

`np.argsort` 메쏘드는 정렬된 배열에 나타난 원소순서를 반환한다:

```
>>> np.argsort(a)
array([1, 2, 0, 3])
```

### 특수 모듈

넘파이에는 수치해석 기본 메쏘드를 구현한 추가 모듈이 제공된다:

* `np.linalg` -- 선형대수
* `np.fft` -- 고속 푸리에 변환 
* `np.random` -- 난수 생성기.

> ## 가장 가까운 원소 찾기 {.challenge}
>
> 난수(`np.random.rand` 함수 사용)를 $10 \times 3$ 배열에 넣어 생성한다.
> 각 행별로, 0.75에 가장 가까운 원소의 행 인텍스를 찾아낸다.
> `np.abs`와 `np.argmin` 메쏘드를 사용한다.
> 결과는 0에서 2를 갖는 1차원 정수 배열이 된다.
> `np.abs(x-0.75).argmin(1)`

> ## 선형방정식 풀기 {.challenge}
>
> `np.linalg.solve`를 사용해서 다음에 나오는 선형방정식 시스템을 푼다. 해답을 넣어 검정해본다.
> $$2x + 3y = 3$$
> $$5x - y = 6$$
