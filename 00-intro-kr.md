---
layout: page
title: 고급 넘파이 
subtitle: 들어가며
minutes: 15
---
> ## 학습목표 {.objectives}
>
> * `numpy` 라이브러리 가져오는 방법을 학습한다.
> * 행렬이나 배열에 들어갈 원소가 주어지거나 난수로 생성된 원소가 있는 경우, 
일차원 혹은 다차원 배열을 생성한다.
> * 배열의 모든 원소에 대해 함수를 적용시킨다.

넘파이 배열은 데이터 컨테이너다. 파이썬 리스트와 유사하지만, 숫자형 데이터에 동작하도록 특별히 제작되었다.
넘파이는 파이썬 과학 생태계의 중심이고, `scikit-learn`, `scikit-image`, `matplotlib`,
`SciPy`를 포함하는 상당수 과학 라이브러리를 위해 열심히 일하는 기계다.

넘파이를 사용하려면, 파이썬 인터프리터를 시작하고 나서 `numpy` 팩키지를 자겨온다. 다음 가져오기 문장을 사용하는 것이 
거의 관례로 되어있고 모든 넘파이 함수를 `np` 접두어를 두고 호출한다.

```
import numpy as np
```

`numpy`가 정상적으로 설치되었으면, 어떤 메시지도 출력되지 말아야 한다. 
원소 3개를 갖는 넘파이 배열을 생성하자:

```
>>> x = np.array([2, 1, 5])
>>> x
array([2, 1, 5])
```

`NumPy` 장점중 하나는 루프 반복을 돌릴 필요없이 배열에 있는 모든 원소에 함수(`ufunc`라고 불림)를 적용시킬 수 있다는 점이다:

```
>>> np.sin(x)
array([ 0.90929743,  0.84147098, -0.95892427])
```

이런 방식이 루프를 사용해서 원소에 반복적으로 싸인 함수를 적용시키는 것보다 더 효율적이고 편리하기도 하다:
마찬가지로, 스칼라를 모든 원소에 더하거나 상수를 곱하는 것도 가능하다.


```
>>> x + 1
array([3, 2, 6])
```

사전에 정의된 원소를 갖는 배열을 생성하려면, 내장된 도움 함수중 하나를 사용한다.
`np.arange`는 파이썬 내장함수 `range`처럼 동작하지만, 배열을 반환한다:
`np.ones`와 `np.zeros`는 원소가 모두 0 혹은 1인 배열을 반환한다;
`np.random.rand` 함수는 [0,1] 구간에서 난수로 된 배열을 생성한다:


```
>>> np.arange(5)
array([0, 1, 2, 3, 4])
>>> np.ones(5)
array([ 1.,  1.,  1.,  1.,  1.])
>>> np.zeros(5)
array([ 0.,  0.,  0.,  0.,  0.])
>>> np.random.rand(5)
array([ 0.27386612,  0.42769767,  0.38762774,  0.63308478,  0.46215844])
```

2차 혹은 다차원 배열도 생성할 수 있다:

```
>>> x = np.array([[1, 2], [5, 6]])
>>> x
array([[1, 2],
       [5, 6]])
>>> np.ones((2, 2))
array([[ 1.,  1.],
       [ 1.,  1.]])
```

다른 방식으로는 1차원 배열의 형태를 바궈 n-차원 배열을 생성할 수도 있다:

```
>>> a = np.arange(9)
>>> a
array([0, 1, 2, 3, 4, 5, 6, 7, 8])
>>> a.reshape(3,3)
array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])
```

이번 경우에는 넘파이 모듈에 내장된 `np.reshape` 메쏘드 대신에 `reshape` 메쏘드를 사용했다.
두가지 방식 모두 가능하고 어느 것을 사용할지는 사용자 취향이다.


> ## 도전과제 {.challenge}
>
> $5 \times 5$ 정방행렬을 생성하는데, 대각선에는 숫자 5가 나머지는 모두 0이 되어야 한다.
> `np.eye` 함수를 사용하는 것을 고려해본다. (docstring 도움말을 참조한다.)
